(()=>{var e={};e.id=565,e.ids=[565],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},17852:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>o,routeModule:()=>m,tree:()=>c}),s(50030),s(2840),s(35866);var a=s(23191),r=s(88716),i=s(37922),l=s.n(i),n=s(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,50030)),"C:\\Users\\Subra\\Downloads\\hope_irl_cloud_app_consultancy_grade\\hope_irl_cloud_app\\app\\cart\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2840)),"C:\\Users\\Subra\\Downloads\\hope_irl_cloud_app_consultancy_grade\\hope_irl_cloud_app\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\Subra\\Downloads\\hope_irl_cloud_app_consultancy_grade\\hope_irl_cloud_app\\app\\cart\\page.jsx"],u="/cart/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},70934:(e,t,s)=>{Promise.resolve().then(s.bind(s,46477)),Promise.resolve().then(s.bind(s,30295))},46477:(e,t,s)=>{"use strict";s.d(t,{CartClient:()=>l});var a=s(10326),r=s(17577),i=s(30295);function l({order:e}){let[t,s]=(0,r.useState)({fullName:e?.fullName||"",phone:e?.phone||"",linkedinUrl:e?.linkedinUrl||"",paymentRef:e?.paymentRef||""}),[l,n]=(0,r.useState)(null),[d,c]=(0,r.useState)(!1),[o,u]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),h=(e,t)=>s(s=>({...s,[e]:t})),x=async()=>{c(!0),u(""),m("");let s=new FormData;s.append("orderId",e?.id||""),s.append("fullName",t.fullName),s.append("phone",t.phone),s.append("linkedinUrl",t.linkedinUrl),s.append("paymentRef",t.paymentRef),l&&s.append("resume",l);let a=await fetch("/api/checkout/submit",{method:"POST",body:s}),r=await a.json();if(c(!1),!a.ok){m(r?.error||"Failed");return}u("Submitted ✅ Our team will connect with you soon.")};return e?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-white font-extrabold text-lg",children:"Your services"}),a.jsx("div",{className:"mt-3 space-y-2",children:e.items?.length?e.items.map(e=>(0,a.jsxs)("div",{className:"glass rounded-xl p-4 flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-white font-semibold",children:e.title}),a.jsx("div",{className:"text-white/60 text-sm",children:e.period})]}),(0,a.jsxs)("div",{className:"text-white font-extrabold",children:["€",(e.priceCents/100).toFixed(0)]})]},e.id)):a.jsx("div",{className:"text-white/60",children:"No services selected yet."})}),(0,a.jsxs)("div",{className:"mt-3 text-right text-white/80",children:["Total: ",(0,a.jsxs)("span",{className:"text-white font-extrabold",children:["€",((e.totalCents||0)/100).toFixed(0)]})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label mb-1",children:"Full name"}),a.jsx("input",{className:"input",value:t.fullName,onChange:e=>h("fullName",e.target.value),placeholder:"Your full name"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label mb-1",children:"Phone number"}),a.jsx("input",{className:"input",value:t.phone,onChange:e=>h("phone",e.target.value),placeholder:"+353..."})]})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label mb-1",children:"LinkedIn profile URL"}),a.jsx("input",{className:"input",value:t.linkedinUrl,onChange:e=>h("linkedinUrl",e.target.value),placeholder:"https://linkedin.com/in/..."})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label mb-1",children:"Upload resume (PDF/DOCX)"}),a.jsx("input",{className:"input",type:"file",accept:".pdf,.doc,.docx",onChange:e=>n(e.target.files?.[0]||null)}),a.jsx("div",{className:"text-white/50 text-xs mt-2",children:"Stored locally for dev. For production (Vercel), connect S3/R2/Supabase Storage (README explains)."})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label mb-1",children:"Payment reference (after Revolut payment)"}),a.jsx("input",{className:"input",value:t.paymentRef,onChange:e=>h("paymentRef",e.target.value),placeholder:"e.g., Revolut transfer reference"})]}),p?a.jsx("div",{className:"text-red-300 text-sm",children:p}):null,o?a.jsx(i.b,{children:o}):null,a.jsx(i.M,{className:"btn-primary w-full",onClick:x,disabled:d,children:d?"Submitting...":"Submit & Confirm"}),a.jsx("div",{className:"text-white/60 text-sm",children:"After submission, the admin team receives your details in the Admin panel."})]}):(0,a.jsxs)("div",{className:"text-white/70",children:["Your cart is empty. Please select services from the dashboard.",a.jsx("div",{className:"mt-4",children:a.jsx("a",{className:"btn-primary",href:"/dashboard",children:"Go to Dashboard"})})]})}},50030:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(19510),r=s(11566),i=s(75826),l=s(56025);let n=(0,s(68570).createProxy)(String.raw`C:\Users\Subra\Downloads\hope_irl_cloud_app_consultancy_grade\hope_irl_cloud_app\app\cart\ui.jsx#CartClient`);async function d(){let e=await (0,r.V)(),t=e?.user?.email?.toLowerCase();if(!t)return(0,a.jsxs)(l.Zb,{children:[a.jsx("h3",{className:"text-white font-extrabold text-lg",children:"Please sign in"}),a.jsx("p",{className:"text-white/70 mt-2",children:"Your session doesn’t have an email. Please login again."}),a.jsx("a",{className:"btn-primary w-full mt-4",href:"/auth/login",children:"Go to Login"})]});let s=await i._.user.upsert({where:{email:t},update:{name:e.user.name||void 0,image:e.user.image||void 0},create:{email:t,name:e.user.name||"User",image:e.user.image||null,role:"user"}}),d=await i._.order.findFirst({where:{userId:s.id,status:{in:["draft","awaiting_payment","payment_submitted"]}},include:{items:!0},orderBy:{createdAt:"desc"}});return(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx(l.NZ,{title:"Cart & Checkout",subtitle:"Confirm your services, upload CV, and submit payment reference."}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(l.Zb,{children:a.jsx(n,{order:d})})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(l.Zb,{children:[a.jsx("h3",{className:"text-white font-extrabold text-lg",children:"Payment"}),a.jsx("p",{className:"text-white/70 mt-2",children:"After paying, paste the payment reference."}),a.jsx("div",{className:"mt-4",children:a.jsx("a",{className:"btn-primary w-full",href:d?.paymentLink||"https://revolut.me/subrah2xwv",target:"_blank",children:"Pay with Revolut"})}),a.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Your details will be secured."})]}),(0,a.jsxs)(l.Zb,{children:[a.jsx("h3",{className:"text-white font-extrabold text-lg",children:"After payment"}),a.jsx("p",{className:"text-white/70 mt-2",children:"Once you submit, our team will contact you on WhatsApp/call."}),a.jsx("div",{className:"mt-4 text-white/60 text-sm",children:"You can also email support in future versions."}),a.jsx("div",{className:"mt-3",children:a.jsx("a",{className:"btn-secondary w-full",href:"/orders",children:"View order status"})})]})]})]})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[276,776,734,805,823],()=>s(17852));module.exports=a})();